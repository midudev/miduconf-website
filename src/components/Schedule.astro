---
import ScheduleItem from './ScheduleItem.astro'

const schedule = [
	{
		title: 'ğŸ¶ Cuenta atrÃ¡s con Live Coding Music'
	},
	{
		start: '17:00',
		duration: '15 min.',
		speaker: 'Miguel Ãngel DurÃ¡n',
		speakerPhoto: 'midudev.webp',
		title: 'ğŸ‘‹ Hola mundo, hola miduConf!'
	},
	{
		start: '17:15',
		duration: '15 min.',
		speaker: 'Guillermo Rauch, CEO de Vercel',
		speakerPhoto: 'rauchg.webp',
		title: 'ğŸš€ Q&A: Hablando del futuro de la web'
	},
	{
		start: '17:35',
		duration: '15 min.',
		speaker: 'Codely Team',
		speakerPhoto: 'codely.webp',
		title: 'âš›ï¸ ProgramaciÃ³n Reactiva de 0 a 100'
	},
	{
		title: 'ğŸ‘©â€ğŸ“ Sorteo suscripciones a CodelyTV por 3 meses'
	},
	{
		start: '18:00',
		duration: '15 min.',
		speaker: 'Freddy Vega, CEO de Platzi',
		speakerPhoto: 'freddier.webp',
		title: 'ğŸ“š Q&A: ProgramaciÃ³n y enseÃ±anza'
	},
	{
		title: 'ğŸ“ Sorteo suscripciones a Platzi'
	},
	{
		start: '18:20',
		duration: '10 min.',
		speaker: 'Irene M. Morgado',
		speakerPhoto: 'irene-morgado.webp',
		title: 'ğŸ’¬ Lo que quieres saber en las entrevistas y no preguntas'
	},
	{
		title: 'ğŸ“˜ 25 libros de Aprendiendo Git'
	},
	{
		start: '18:40',
		duration: '10 min.',
		speaker: 'Daniel de la Cruz',
		speakerPhoto: 'delacruz.webp',
		title: 'ğŸ™…â€â™‚ï¸ Tu trabajo no es escribir cÃ³digo'
	},
	{
		title: 'âŒ¨ï¸ Sorteo teclado Keychron K3 version 2'
	},
	{
		start: '19:00',
		duration: '15 min.',
		speaker: 'RÃ³mulo Cintra',
		speakerPhoto: 'romulo.webp',
		title: 'â˜• TC39: De propuesta a JavaScript'
	},
	{
		start: '19:20',
		duration: '15 min.',
		speaker: 'Debbie O\'Brien',
		speakerPhoto: 'obrien.webp',
		title: 'âœ… Tests E2E con Playwright'
	},
	{
		title: 'ğŸ“˜ 25 libros de Aprendiendo Git'
	},
	{
		start: '19:40',
		duration: '15 min.',
		speaker: 'Yodra LÃ³pez',
		speakerPhoto: 'yodra.webp',
		title: 'ğŸ— Refactorizar sin test y no morir en el intento'
	},
	{
		title: 'ğŸ‘©â€ğŸ’» Sorteo licencia para 1 AÃ±o de Intellij'
	},
	{
		start: '20:00',
		duration: '15 min.',
		speaker: 'Nerea Luis',
		speakerPhoto: 'nerea.webp',
		description: 'Hablemos de quÃ© ha pasado en los Ãºltimos dos aÃ±os y de las proyecciones que tiene la Inteligencia Artificial en el medio plazo. Â¿Tiene sentido formarme en IA? Â¿DeberÃ­a preocuparme el futuro de mi trabajo? Â¿Por dÃ³nde empiezo? son algunas de las preguntas que tratarÃ© de responder',
		title: 'ğŸ¤– Â¿Por quÃ© deberÃ­a interesarte la Inteligencia Artificial?'
	},
	{
		start: '20:20',
		duration: '20 min.',
		speaker: 'Carlos BlÃ©',
		speakerPhoto: 'carlos.webp',
		title: 'ğŸš¦ CÃ³digo sostenible'
	},
	{
		title: 'ğŸ“š Sorteo libro CÃ³digo Sostenible'
	},
	{
		start: '20:45',
		duration: '15 min.',
		speaker: 'Estefany Aguilar',
		speakerPhoto: 'teffcode.webp',
		title: 'ğŸ¨ UX para Developers'
	},
	{
		title: 'ğŸ“˜ 25 libros de Aprendiendo Git'
	},
	{
		start: '21:05',
		duration: '10 min.',
		speaker: 'Leonardo Poza',
		speakerPhoto: 'leonardo.webp',
		title: 'ğŸ’¼ Dale caÃ±a a tu CV para ser contratado'
	},
	{
		title: 'ğŸŸï¸ Sorteo entrada a la Tarugo Conf'
	},
	{
		start: '21:20',
		duration: '15 min.',
		speaker: 'Marta Arcones',
		speakerPhoto: 'marta.webp',
		title: 'ğŸ§ª Probando... 1, 2, 3 con Cypress'
	},
	{
		title: 'ğŸŸï¸ Sorteo suscripciones de CodelyTV por 6 meses'
	},
	{
		start: '21:40',
		duration: '15 min.',
		title: 'ğŸ‘©ğŸ»â€ğŸ’» CÃ³mo crecer profesionalmente y generar un impacto en los demÃ¡s',
		speaker: 'Samar Jaffal',
		speakerPhoto: 'samar.webp'
	},
	{
		title: 'ğŸ“˜ 25 libros de Aprendiendo Git'
	},
	{
		start: '22:00',
		duration: '20 min.',
		title: 'â™»ï¸ Si empezase de nuevo en programaciÃ³n...',
		speaker: 'Goncy Pozzo & vamoacodear',
		speakerPhoto: 'goncy-noe.webp'
	},
	{
		title: 'ğŸŸï¸ Sorteo suscripciones de CodelyTV por 1 aÃ±o'
	}
]
---

<section id='agenda' class='w-full max-w-5xl px-6 pb-40 mx-auto'>

	<h2 class='flex flex-col py-24 text-4xl font-black text-center text-white sm:text-6xl'>
		<span class='leading-tight text-transparent bg-clip-text bg-gradient-to-r from-amber-300 via-amber-500 to-amber-100'
		>Agenda
		</span>
		<span class='mt-2 text-xl font-bold text-white opacity-85' id='timezone'></span>
	</h2>

	<div class='border-4 border-yellow-300 rounded bg-slate-700'>

		{
			schedule.map(item => {
				if (!item.start) {
					return (
						<article class='flex flex-col items-center justify-center py-4 text-center border-b bg-slate-800 gap-y-4 md:flex-row md:gap-y-0 border-b-yellow-400'>
							<div class='flex flex-col items-center order-3 px-8 font-bold md:-order-none gap-x-2'>
								<h4 class='text-xl text-yellow-300 md:text-3xl'>{item.title}</h4>
							</div>
						</article>
					)
				}

				return <ScheduleItem {...item} />
			})
		}
	</div>
</section>

<script>
const transformCities = {
	Canary: 'Islas Canarias'
}

const { timeZone } = Intl.DateTimeFormat().resolvedOptions()
const cityTimeZone = timeZone.replaceAll('_', ' ')
const diff = new Date().getTimezoneOffset() / 60 * -1
const gmt = diff > 0 ? `GMT+${diff}` : `GMT-${Math.abs(diff)}`

const cleanCityTimeZone = transformCities[cityTimeZone] || cityTimeZone

document.getElementById('timezone').innerText = `Horarios para ${cleanCityTimeZone} â€” ${gmt}`
</script>
